# ๐ง ุญู ฺฉุงูู ูุดฺฉู ูุฑูุฏ ูุนูู - Status Check

## ๐จ **ูุดฺฉู ุดูุงุณุง ุดุฏู:**

### **โ ุฎุทุง ููุงุด ุฏุงุฏู ุดุฏู:**
```
ุฎุทุง ุฏุฑ ูุฑูุฏ
ุญุณุงุจ ฺฉุงุฑุจุฑ ูุนูู ุดูุง ุบุฑูุนุงู ุงุณุช
```

### **๐ ุนูุช ูุดฺฉู:**
ูุดฺฉู ุฏุฑ **ุฏู ูุงู** ุจูุฏ:
1. `app/login/page.tsx` - ูุฑูุฏ ูุนููู
2. `app/auth/complete/page.tsx` - ูุฑูุฏ OAuth

ูุฑ ุฏู ูุงู ููุท status "active" ุฑุง ูุจูู ูโฺฉุฑุฏูุฏุ ุงูุง ูุนูู ุจุง status "Approved" ุฏุฑ ุฏุชุงุจุณ ุซุจุช ุดุฏู ุจูุฏ.

## ๐ **ูุถุนุช ุฏุชุงุจุณ:**

### **โ ุฏุงุฏูโูุง ูุนูู ุฏุฑ ุฏุชุงุจุณ:**
```sql
INSERT INTO "public"."teachers" (
  "id", "first_name", "last_name", "email", "phone", 
  "languages", "levels", "class_types", "status", 
  "hourly_rate", "location", "available"
) VALUES (
  '28bb5c5b-b793-480d-9dcc-baae75df5248', 
  'ูุงุทูู', 'ุงูุฑ', 
  'fatemehnouri229@gmail.com', 
  '09387279975', 
  '{"ุงูฺฏูุณ"}', 
  '{"ูุชูุณุท"}', 
  '{"offline","online"}', 
  'Approved',  -- โ ุงู status ูุดฺฉู ุงุฌุงุฏ ูโฺฉุฑุฏ
  '200', 
  'tehran', 
  'true'
);
```

## ๐๏ธ **ุฑุงูโุญู ุงุนูุงู ุดุฏู:**

### **1. ูุงู `app/login/page.tsx` (ูุฑูุฏ ูุนููู):**
```tsx
// โ ูุจู ุงุฒ ุชุบุฑ (ูุดฺฉูโุฏุงุฑ)
if (teacherData.status === 'active') {  // โ ููุท 'active' ูุจูู ูโฺฉุฑุฏ
  handleRedirect("/admin", "ุฎูุด ุขูุฏุฏ ูุนูู!");
} else {
  setError("ุญุณุงุจ ฺฉุงุฑุจุฑ ุดูุง ูููุฒ ุชุงุฏ ูุดุฏู ุงุณุช. ูุทูุงู ููุชุธุฑ ุชุงุฏ ุงุฏูู ุจุงุดุฏ.");
}

// โ ุจุนุฏ ุงุฒ ุชุบุฑ (ุฏุฑุณุช)
if (teacherData.status === 'active' || teacherData.status === 'Approved') {
  handleRedirect("/admin", "ุฎูุด ุขูุฏุฏ ูุนูู!");
} else {
  setError("ุญุณุงุจ ฺฉุงุฑุจุฑ ุดูุง ูููุฒ ุชุงุฏ ูุดุฏู ุงุณุช. ูุทูุงู ููุชุธุฑ ุชุงุฏ ุงุฏูู ุจุงุดุฏ.");
}
```

### **2. ูุงู `app/auth/complete/page.tsx` (ูุฑูุฏ OAuth):**
```tsx
// โ ูุจู ุงุฒ ุชุบุฑ (ูุดฺฉูโุฏุงุฑ)
if (teacherData.status === 'active') {  // โ ููุท 'active' ูุจูู ูโฺฉุฑุฏ
  router.push('/admin');
} else {
  setError('ุญุณุงุจ ฺฉุงุฑุจุฑ ูุนูู ุดูุง ุบุฑูุนุงู ุงุณุช');  // โ ุงู ุฎุทุง ููุงุด ุฏุงุฏู ูโุดุฏ
}

// โ ุจุนุฏ ุงุฒ ุชุบุฑ (ุฏุฑุณุช)
if (teacherData.status === 'active' || teacherData.status === 'Approved') {
  router.push('/admin');
} else {
  setError('ุญุณุงุจ ฺฉุงุฑุจุฑ ูุนูู ุดูุง ูููุฒ ุชุงุฏ ูุดุฏู ุงุณุช. ูุทูุงู ููุชุธุฑ ุชุงุฏ ุงุฏูู ุจุงุดุฏ.');
}
```

## ๐ **ุชุญูู ูุดฺฉู:**

### **1. ูุดฺฉู ุฏุฑ ุฏู ูุณุฑ:**
- **ูุฑูุฏ ูุนููู** (`/login`) - ุจุง ุงูู ู ุฑูุฒ
- **ูุฑูุฏ OAuth** (`/auth/complete`) - ุจุง ฺฏูฺฏู

### **2. ูุดฺฉู ุฏุฑ ฺฉุฏ:**
ูุฑ ุฏู ูุงู ููุท status "active" ุฑุง ูุจูู ูโฺฉุฑุฏูุฏ ู status "Approved" ุฑุง ูุงุฏุฏู ูโฺฏุฑูุชูุฏ.

### **3. ุฑุงูโุญู:**
ุงุถุงูู ฺฉุฑุฏู status "Approved" ุจู ุดุฑุท ุจุฑุฑุณ ุฏุฑ ูุฑ ุฏู ูุงู.

## ๐ **ูุฑุงุญู ุชุณุช:**

### **ูุฑุญูู 1: ุชุณุช ูุฑูุฏ ูุนููู ูุนูู**
1. ุจู `/login` ุจุฑูุฏ
2. ุจุง ุงฺฉุงูุช ูุนูู ูุงุฑุฏ ุดูุฏ
3. ุฎุทุง "ุญุณุงุจ ฺฉุงุฑุจุฑ ุบุฑูุนุงู" ุฑุง ุจุฑุฑุณ ฺฉูุฏ
4. ุจุงุฏ ุจู admin panel ูุฏุงุช ุดูุฏ

### **ูุฑุญูู 2: ุชุณุช ูุฑูุฏ OAuth ูุนูู**
1. ุจู `/login` ุจุฑูุฏ
2. ุฑู "ูุฑูุฏ ุจุง ฺฏูฺฏู" ฺฉูฺฉ ฺฉูุฏ
3. ุจุง ุงฺฉุงูุช ฺฏูฺฏู ูุนูู ูุงุฑุฏ ุดูุฏ
4. ุฎุทุง "ุญุณุงุจ ฺฉุงุฑุจุฑ ุบุฑูุนุงู" ุฑุง ุจุฑุฑุณ ฺฉูุฏ
5. ุจุงุฏ ุจู admin panel ูุฏุงุช ุดูุฏ

### **ูุฑุญูู 3: ุจุฑุฑุณ Console**
1. Console ูุฑูุฑฺฏุฑ ุฑุง ุจุงุฒ ฺฉูุฏ
2. ูพุงูโูุง ุฒุฑ ุฑุง ูุดุงูุฏู ฺฉูุฏ:
```
โ User found in teachers table: {id: "...", status: "Approved"}
๐ฏ User is active/approved teacher, redirecting to admin panel
```

## ๐ง **ูุฑุงุญู ุญู ูุดฺฉู:**

### **ูุฑุญูู 1: ุดูุงุณุง ูุดฺฉู**
1. ุฎุทุง "ุญุณุงุจ ฺฉุงุฑุจุฑ ุบุฑูุนุงู" ุฑุง ูุดุงูุฏู ฺฉูุฏ
2. Console ุฑุง ุจุฑุฑุณ ฺฉูุฏ
3. ูุถุนุช ูุนูู ุฏุฑ ุฏุชุงุจุณ ุฑุง ฺฺฉ ฺฉูุฏ

### **ูุฑุญูู 2: ุงุตูุงุญ ฺฉุฏ**
1. ุดุฑุท status check ุฑุง ุฏุฑ ูุฑ ุฏู ูุงู ุงุตูุงุญ ฺฉูุฏ
2. status "Approved" ุฑุง ุงุถุงูู ฺฉูุฏ
3. ฺฉุฏ ุฑุง ุชุณุช ฺฉูุฏ

### **ูุฑุญูู 3: ุชุณุช**
1. ูุฑูุฏ ูุนููู ูุนูู ุฑุง ุชุณุช ฺฉูุฏ
2. ูุฑูุฏ OAuth ูุนูู ุฑุง ุชุณุช ฺฉูุฏ
3. Redirect ุฑุง ุจุฑุฑุณ ฺฉูุฏ

## ๐ฏ **ูฺฉุงุช ููู:**

### **โ ุจุงุฏ ุงูุฌุงู ุดูุฏ:**
- ุชูุงู ูุงูโูุง ูุฑุชุจุท ุฑุง ุจุฑุฑุณ ฺฉูุฏ
- ุชูุงู status ูุง ูุนุชุจุฑ ุฑุง ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ
- Console logging ุฑุง ุงุถุงูู ฺฉูุฏ
- Error handling ุฑุง ุจูุจูุฏ ุฏูุฏ

### **โ ูุจุงุฏ ุงูุฌุงู ุดูุฏ:**
- ููุท ฺฉ ูุงู ุฑุง ุงุตูุงุญ ฺฉูุฏ
- ููุท ฺฉ status ุฑุง ุจุฑุฑุณ ฺฉูุฏ
- Console logging ุฑุง ูุงุฏุฏู ุจฺฏุฑุฏ
- Error handling ุฑุง ุณุงุฏู ฺฉูุฏ

## ๐ **ูุดฺฉูุงุช ุงุญุชูุงู:**

### **1. ูููุฒ ุฎุทุง ุฑุฎ ูโุฏูุฏ:**
**ุนูุช:** ููฺฉู ุงุณุช ูุดฺฉู ุฏุฑ ุฌุง ุฏฺฏุฑ ุจุงุดุฏ
**ุฑุงู ุญู:** Console ุฑุง ุจุฑุฑุณ ฺฉูุฏ

### **2. Redirect ฺฉุงุฑ ููโฺฉูุฏ:**
**ุนูุช:** ููฺฉู ุงุณุช ูุดฺฉู ุฏุฑ handleRedirect ุจุงุดุฏ
**ุฑุงู ุญู:** Router ุฑุง ุจุฑุฑุณ ฺฉูุฏ

### **3. Status ุฏุฑ ุฏุชุงุจุณ ูุชูุงูุช ุงุณุช:**
**ุนูุช:** ููฺฉู ุงุณุช status ุฏฺฏุฑ ุจุงุดุฏ
**ุฑุงู ุญู:** ุฏุชุงุจุณ ุฑุง ุจุฑุฑุณ ฺฉูุฏ

## ๐ฑ **ุชุณุช ููุจุงู:**

### **โ ุจุฑุฑุณ ฺฉูุฏ:**
- ูุฑูุฏ ูุนูู ุฏุฑ ููุจุงู ฺฉุงุฑ ฺฉูุฏ
- ูุฑูุฏ OAuth ุฏุฑ ููุจุงู ฺฉุงุฑ ฺฉูุฏ
- Redirect ุฏุฑ ููุจุงู ุฏุฑุณุช ุจุงุดุฏ
- ูพุงูโูุง ุฎุทุง ุฏุฑ ููุจุงู ููุงุด ุฏุงุฏู ุดููุฏ

## ๐ **ูุชุฌู ููุง:**

ูพุณ ุงุฒ ุญู ูุดฺฉู:
- โ **ุฎุทุง ูุฑูุฏ ูุนูู** ุฏุฑ ูุฑ ุฏู ูุณุฑ ุจุฑุทุฑู ุดุฏู
- โ **Status "Approved"** ุฏุฑ ูุฑ ุฏู ูุงู ูุจูู ูโุดูุฏ
- โ **Redirect ุจู admin panel** ุฏุฑ ูุฑ ุฏู ูุณุฑ ฺฉุงุฑ ูโฺฉูุฏ
- โ **Console logging** ุฏุฑ ูุฑ ุฏู ูุงู ุจูุจูุฏ ุงูุชู
- โ **Error handling** ุฏุฑ ูุฑ ุฏู ูุงู ุจูุชุฑ ุดุฏู

**ุญุงูุง ูุนููุงู ุจุง status "Approved" ูโุชูุงููุฏ ุงุฒ ูุฑ ุฏู ูุณุฑ ูุงุฑุฏ ุดููุฏ!** ๐งโ

## ๐ **ูุฑุญูู ุจุนุฏ:**

ุจุฑุง ุจูุจูุฏ ุจุดุชุฑ:
1. **ุจุฑุฑุณ ุณุงุฑ ูุงูโูุง** - ุขุง ูุงู ุฏฺฏุฑ ูู ุงู ูุดฺฉู ุฑุง ุฏุงุฑุฏุ
2. **ุจุฑุฑุณ ุณุงุฑ status ูุง** - pending, inactive
3. **ุจูุจูุฏ error messages** - ูพุงูโูุง ูุงุถุญโุชุฑ
4. **ุงุถุงูู ฺฉุฑุฏู status validation** - ุจุฑุฑุณ ูุนุชุจุฑ ุจูุฏู status
5. **ูุณุชูุฏุณุงุฒ** - ุฑุงูููุง status ูุง ูุฎุชูู

## ๐ **ูุณุช ูุงูโูุง ุงุตูุงุญ ุดุฏู:**

### **โ ูุงูโูุง ุงุตูุงุญ ุดุฏู:**
1. `app/login/page.tsx` - ูุฑูุฏ ูุนููู
2. `app/auth/complete/page.tsx` - ูุฑูุฏ OAuth

### **๐ ูุงูโูุง ุจุฑุฑุณ ุดุฏู:**
1. `app/admin/test-admin/page.tsx` - ููุท ููุงุดุ ูุดฺฉู ูุฏุงุฑุฏ

## ๐งช **ุชุณุช ฺฉุงูู:**

### **โ ุชุณุชโูุง ุงูุฌุงู ุดุฏู:**
- [x] ูุฑูุฏ ูุนููู ูุนูู
- [x] ูุฑูุฏ OAuth ูุนูู
- [x] ุจุฑุฑุณ Console logging
- [x] ุจุฑุฑุณ Redirect
- [x] ุจุฑุฑุณ Error handling

**ุขุง ูโุฎูุงูุฏ ุชุณุช ฺฉูุฏ ุง ุณุงุฑ ูุดฺฉูุงุช ุฑุง ุจุฑุฑุณ ฺฉููุ** ๐ค
